<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../assets/css/user_login.css">
    <script src="../../assets/js/sweetalert.min.js"></script>
    

</head>
<body class="login-body">
<div class="login-container">
    <img src="../../assets/image/4957412_Mobile-login-Cristina.jpg" alt="" width="450px" height="400px">
</div>
<div class="login-text">
    <h2><b>LOGIN</b></h2>



<form id="form">

    <input type="email" placeholder="Email" class="input-1" id="email" required>

    <input type="password" placeholder="Password" class="input-2" id="password" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" title="UpperCase, LowerCase, Number/SpecialChar and min 8 Chars" required>
</div> 
<button class="login-but" id="sk" type="submit">LOGIN</button>
</form>


<p class="signup">Need an account <b><a href="signup.html">Sign up</a></b></p>  

<script>
const form = document.querySelector("#form")
form.addEventListener('submit',function(event){
    event.preventDefault();
    getData();
});
    

     function getData(){
        const email = document.getElementById("email").value
        const create_password = document.getElementById("password").value

        let array = JSON.parse(localStorage.getItem("users"))

        // let user_details = new Array();

        //user_details=JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")):[]

         //user_details.push ({
           // "useremail" : email,
            //"password" : create_password
        //});

        let res;
            array.find(element =>{
                if(element["email"] == email && element["password"] == create_password){
                    let constant = element
                    localStorage.setItem("profile",JSON.stringify (constant))


                    return res = 1;
                    
                }
                else{
                    return res=0;
                }
            });
            if(res==1){
                swal("Yep!", "you logged in bruh!", "success");

                 window.location.href="real-profile.html"
            }
            else{
                swal("Oops!", "email or password is not correct!", "error");
            }
           

        // const user = localStorage.getItem(email)
        // const data = JSON.parse(user);
        // console.log(data);

        // if(email == data.user_email && create_password == data.user_password){
        //     swal("Yep!", "Welcome bruh!", "success");

        //     //window.location.href="../../index.html"
        // }
        // else if(email == null && create_password == null){
        //     swal("Oops!", "please fill the input page!", "error");
        // }
        //  else{
        //     swal("Oops!", "email or password is not correct!", "error");
        }
        

    

    





</script>
</body>
</html>